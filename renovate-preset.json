{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "description": "Shared Renovate preset for all adesso forge repos â€” stored in @adesso-forge/ds-shared",
  "extends": [
    "config:recommended",
    ":pinAllExceptPeerDependencies"
  ],
  "labels": ["dependencies"],
  "packageRules": [
    {
      "description": "Auto-merge ds-shared patch and minor updates (silent branch merge)",
      "matchPackageNames": ["@adesso-forge/ds-shared"],
      "matchUpdateTypes": ["patch", "minor"],
      "automerge": true,
      "automergeType": "branch",
      "schedule": ["at any time"],
      "labels": ["platform-update", "auto-merge"]
    },
    {
      "description": "Require human review for ds-shared major updates",
      "matchPackageNames": ["@adesso-forge/ds-shared"],
      "matchUpdateTypes": ["major"],
      "automerge": false,
      "labels": ["breaking-change", "platform-update"]
    },
    {
      "description": "Group all @adesso-forge platform dependencies together",
      "matchPackageNames": ["@adesso-forge/**"],
      "groupName": "adesso-forge platform",
      "labels": ["platform-update"]
    },
    {
      "description": "Group Storybook packages together",
      "matchPackageNames": ["storybook", "@storybook/**"],
      "groupName": "storybook",
      "schedule": ["after 8pm on friday", "before 8am on monday"]
    },
    {
      "description": "Group linters and formatters, auto-merge patch/minor",
      "matchPackageNames": ["eslint", "eslint-*", "@eslint/**", "prettier"],
      "groupName": "linters",
      "matchUpdateTypes": ["patch", "minor"],
      "automerge": true,
      "automergeType": "branch"
    },
    {
      "description": "Group TypeScript tooling",
      "matchPackageNames": ["typescript", "@types/**"],
      "groupName": "typescript"
    },
    {
      "description": "Group semantic-release plugins",
      "matchPackageNames": ["semantic-release", "@semantic-release/**"],
      "groupName": "semantic-release"
    },
    {
      "description": "Schedule third-party updates to weekends to reduce noise",
      "matchPackageNames": ["!@adesso-forge/**"],
      "schedule": ["after 8pm on friday", "before 8am on monday"]
    },
    {
      "description": "Pin GitHub Actions to digest for security",
      "matchManagers": ["github-actions"],
      "pinDigests": true
    }
  ],
  "hostRules": [
    {
      "matchHost": "https://npm.pkg.github.com/",
      "hostType": "npm"
    }
  ],
  "dependencyDashboard": true,
  "dependencyDashboardTitle": "Renovate Dependency Dashboard"
}
